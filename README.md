## Тестовое задание

> Цель нашего тестового задания - это определить уровень ваших знаний и навыков по разработке бэкенда веб-приложения. Тестовое задание сформулировано без каких-то жёстких требований, но просим при реализации учитывать лучшую практику из вашего опыта по оформлению кода и репозитория, обеспечению безопасности, производительности и командной работе. Пожалуйста, помните, что код и API должны быть не только рабочими, но и стабильными, понятными и удобными в использовании.
> 
> ### Подготовка
> 
> Создайте новый публичный репозиторий на Gitlab.com, его нужно назвать `test29`. Пришлите на него ссылку по итогу тестового. Установите последнюю версию фреймворка `Laravel (12.x)`.
> ### Модели данных
> 
> * Марка автомобиля
>   * Название
> * Модель автомобиля
>   * Название
>   * Марка
> * Автомобиль
>   * Марка
>   * Модель
>   * Год выпуска (опциональный атрибут)
>   * Пробег (опциональный атрибут)
>   * Цвет (опциональный атрибут)
> ### API
> 
> * Список марок автомобилей;
> * Список моделей автомобилей;
> * Список + CRUD автомобилей.
> * Дополнительное задание (выполняется по желанию): привязать автомобиль к пользователю и разрешить пользователям доступ только к “своим” автомобилям.

### Установка

1. Выкачать проект из репозитория и перейти в папку с проектом.
1. Установить зависимости:
    ```
    composer install
    ```
1. Скопировать `.env.development` в `.env`:
    ```
    cp .env.development .env
    ```
1. Настроить git-хуки:
    ```
    git config core.hooksPath git-hooks
    ```
1. Запустить docker:
    ```
    ./vendor/bin/sail up -d
    ```
1. Накатить миграции:
    ```
    ./vendor/bin/sail artisan migrate --env=testing
    ```
1. Запустить тесты:
    ```
    ./vendor/bin/sail artisan test --env=testing
    ```

### Использование

1. Накатить миграции:
    ```
    ./vendor/bin/sail artisan migrate
    ```
1. Наполнить БД тестовыми данными:
    ```
    ./vendor/bin/sail artisan db:seed
    ```
1. Сделать запрос к сервису:
    ```
    curl --location 'http://localhost/api/cars'
    ```
1. Список доступных эндпоинтов можно посмотреть так:
    ```
    ./vendor/bin/sail artisan route:list --except-vendor
    ```

### Что сделано (и не сделано)?

* Реализовано всё требуемое API кроме доступа к автомобилям пользователя
* Тесты покрывают всё разработанное API
* Приложение по большому счёту имеет архитектуру типа [Transaction Script](https://martinfowler.com/eaaCatalog/transactionScript.html): ни слоя сервисов, ни слоя репозиториев в приложении нет т.к. туда фактически нечего выносить.
* Формат сообщений для коммитов соответствует [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/).
* Классы моделей генерятся через [reliese/laravel](https://github.com/reliese/laravel) ([я писал про этот инструмент Хабре](https://habr.com/ru/articles/861584/)).
* Для быстрого старта был использован [Laravel Sail](https://laravel.com/docs/12.x/sail)
* Git-хуки перенесены в корень проекта в папку `git-hooks`. Хуки включают в себя:
  * Запуск [Laravel Pint](https://laravel.com/docs/12.x/pint) для приведения стиля кодирования к общему виду.
  * Запуск тестов.
